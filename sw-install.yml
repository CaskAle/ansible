---
- name: update dnf based devices
  dnf:
    name: "{{ packages }}"
    state: latest
    update_cache: true
  when: ansible_facts['os_family'] == "RedHat"

- name: update apt based devices
  apt:
    name: "{{ packages }}"
    state: latest
    update_cache: true
  when: ansible_os_family == "Debian"

- name: update pacman based devices
  pacman:
    name: "{{ packages }}"
    state: latest
    update_cache: true
  when: "'Archlinux' in ansible_facts['os_family']"
